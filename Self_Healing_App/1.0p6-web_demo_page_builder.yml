---
- name: Building Initial Demo Page
  hosts:
    - tag_Name_{{ student }}_app01
    - tag_Name_{{ student }}_app02
  gather_facts: False
  connection: local

  vars:
    ansible_tower_ip: # this is set in Tower Inventory
    team: # provided by provisioner
    student: # provided by provisioner
    app01_ip: {{ ec2_public_dns_name }}
    when: "{{ ec2_tag_Name }}" == '{{ student }} -app01'

    app02_ip: {{ ec2_public_dns_name }}
    when: "{{ ec2_tag_Name }}" == '{{ student }} -app02'

    elb_ip: {{ ec2_public_dns_name }}


  roles:
  - web_demo_page_builder
